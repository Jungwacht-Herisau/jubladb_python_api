# This file is auto-generated by generate_client.py
from jubladb_api.core import base_client
from jubladb_api.generated import entities
import typing
import datetime

# @formatter:off

{% for entity in entities %}
{% if entity.allowed_operations|length > 0 %}
{% if entity.includeable|length > 0 %}
_{{ entity.name_singular|snake_case_to_pascal_case }}_Include = typing.Literal[
{% for inc in entity.includeable %}
    "{{ inc }}",
{% endfor %}]
{% endif %}
{% if entity|entity_has_sortable_attributes > 0 %}
_{{ entity.name_singular|snake_case_to_pascal_case }}_Sort = typing.Literal[
{% for attr in entity.attributes %}
{% if attr.sortable %}
    "{{ attr.name }}_asc",
{% endif %}
{% endfor %}
{% for attr in entity.attributes %}
{% if attr.sortable %}
    "{{ attr.name }}_desc",
{% endif %}
{% endfor %}
]
{% endif %}
{% endif %}
{% endfor %}


class Client(base_client.BaseClient):

    def __init__(self, url: str, api_key: str):
        super().__init__(url, {"{{ api_key_header }}": api_key})

    {% for entity in entities %}
    {% for op in entity.allowed_operations %}
    {% if op.name == "GetList" %}
    def get_{{ entity.name_plural }}_list(self,
                            {% if entity.includeable|length > 0 %}
                                          include: list[_{{ entity.name_singular|snake_case_to_pascal_case }}_Include],
                            {% endif %}
                            {% if entity|entity_has_sortable_attributes %}
                                          sort: list[_{{ entity.name_singular|snake_case_to_pascal_case }}_Sort],
                            {% endif %}
                            {% for attr in entity.attributes %}
                            {% for ft in attr.filter_types %}
                            filter_{{ attr.name }}_{{ ft }}: {{ attr.type_|attribute_type_to_python_type }},
                            {% endfor %}
                            {% endfor %}
                            ) -> list[entities.{{ entity.name_singular | snake_case_to_pascal_case }}]:
        raise NotImplementedError()
    {% endif %}
    {% if op.name == "GetSingle" %}
    def get_{{ entity.name_singular }}(self,
            id_: int,
            {% if entity.includeable|length > 0 %}
            include: list[_{{ entity.name_singular|snake_case_to_pascal_case }}_Include],
            {% endif %}
                    ) -> entities.{{ entity.name_singular | snake_case_to_pascal_case }}:
        raise NotImplementedError()
    {% endif %}
    {% endfor %}
    {% endfor %}
# @formatter:on
